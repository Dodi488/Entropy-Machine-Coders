<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exoplanet Explorer - NASA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --orange-muted: #D97642;
            --red-dark: #8B3A3A;
            --green-space: #4A6B5C;
            --blue-deep: #1a1d2e;
            --purple-space: #6B4A7D;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(180deg, #0a0a1a 0%, #1a1d2e 100%);
            color: #e0e0e0;
            overflow-x: hidden;
        }

        /* Fondo de estrellas animadas */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            animation: animateStars 200s linear infinite;
        }

        .stars::before,
        .stars::after {
            content: '';
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            box-shadow: 
                100px 100px white, 200px 150px white, 300px 50px white,
                400px 300px white, 500px 200px white, 600px 400px white,
                700px 100px white, 800px 250px white, 900px 350px white,
                150px 450px white, 250px 500px white, 350px 400px white,
                450px 550px white, 550px 600px white, 650px 450px white,
                750px 500px white, 850px 550px white, 950px 600px white;
            border-radius: 50%;
            opacity: 0.8;
        }

        @keyframes animateStars {
            from { transform: translateY(0px); }
            to { transform: translateY(-2000px); }
        }

        /* Glass effect panels */
        .glass-panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .glass-panel-dark {
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* Botones estilizados */
        .btn-glow {
            position: relative;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 16px 48px;
            border-radius: 100px;
            font-weight: 600;
            font-size: 18px;
            color: white;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .btn-glow:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.4);
        }

        .btn-glow::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn-glow:hover::before {
            left: 100%;
        }

        /* Sliders personalizados */
        .custom-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 10px;
            background: linear-gradient(90deg, var(--orange-muted) 0%, var(--purple-space) 100%);
            outline: none;
            opacity: 0.8;
            transition: opacity 0.2s;
        }

        .custom-slider:hover {
            opacity: 1;
        }

        .custom-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        .custom-slider::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        /* Canvas para visualizaciones */
        .orbital-canvas {
            width: 100%;
            height: 400px;
            border-radius: 16px;
            background: radial-gradient(ellipse at center, rgba(217, 118, 66, 0.1) 0%, transparent 70%);
        }

        /* Animaciones de entrada */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }

        /* Hero planet animation */
        .hero-planet {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle at 30% 30%, #D97642, #8B3A3A);
            border-radius: 50%;
            position: relative;
            box-shadow: 
                0 0 60px rgba(217, 118, 66, 0.4),
                inset -20px -20px 40px rgba(0, 0, 0, 0.5);
            animation: rotatePlanet 20s linear infinite;
        }

        @keyframes rotatePlanet {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-10px); }
            60% { transform: translateX(-50%) translateY(-5px); }
        }

        /* Loading animation */
        .loader {
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-left-color: var(--orange-muted);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Result glow effects */
        .glow-green {
            text-shadow: 0 0 20px rgba(34, 197, 94, 0.8);
            color: #22c55e;
        }

        .glow-red {
            text-shadow: 0 0 20px rgba(239, 68, 68, 0.8);
            color: #ef4444;
        }

        /* Section dividers */
        .section-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            margin: 80px 0;
        }

        /* Value displays */
        .value-display {
            background: rgba(255, 255, 255, 0.05);
            padding: 12px 24px;
            border-radius: 100px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: inline-block;
            font-weight: 600;
        }

        /* Thermal gradient overlay */
        .thermal-gradient {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .thermal-gradient.active {
            opacity: 0.6;
        }

        /* Parallax container */
        .parallax-container {
            position: relative;
            transform-style: preserve-3d;
            perspective: 1000px;
        }
    </style>
</head>
<body>
    <div class="stars"></div>

    <!-- Hero Section -->
    <section class="min-h-screen flex flex-col items-center justify-center relative px-4">
        <div class="text-center fade-in-up max-w-4xl mx-auto">
            <h1 class="text-7xl md:text-8xl font-black bg-gradient-to-r from-orange-400 via-purple-400 to-blue-400 bg-clip-text text-transparent mb-6">
                Descubre Nuevos Mundos
            </h1>
            <p class="text-xl md:text-2xl text-gray-300 mb-12">
                Explora exoplanetas con IA entrenada en datos de Kepler & K2
            </p>
            
            <div class="flex justify-center mb-12">
                <div class="hero-planet"></div>
            </div>
            
            <button onclick="scrollToExplorer()" class="btn-glow">
                Comenzar Exploración
            </button>
        </div>
        
        <div class="scroll-indicator">
            <svg width="30" height="30" viewBox="0 0 30 30" fill="none">
                <path d="M15 5L15 25M15 25L7 17M15 25L23 17" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </div>
    </section>

    <!-- Orbital Period Section -->
    <section id="explorer" class="min-h-screen px-4 py-20">
        <div class="max-w-7xl mx-auto">
            <div class="glass-panel p-8 md:p-12">
                <h2 class="text-4xl md:text-5xl font-bold mb-8 text-center">
                    Período Orbital
                </h2>
                
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div>
                        <label class="block text-lg mb-4">Ajusta el período orbital (días)</label>
                        <input type="range" id="orbital-period-slider" min="0.5" max="10000" value="365" 
                               class="custom-slider mb-4" oninput="updateOrbitalPeriod(this.value)">
                        <div class="value-display">
                            <span id="orbital-value">365</span> días
                        </div>
                        
                        <div class="mt-8 p-6 glass-panel-dark">
                            <h3 class="font-semibold mb-2">¿Sabías que?</h3>
                            <p class="text-sm text-gray-300">
                                El período orbital determina el año del planeta. Planetas más cercanos a su estrella tienen años más cortos.
                            </p>
                        </div>
                    </div>
                    
                    <div class="relative">
                        <canvas id="orbital-canvas" class="orbital-canvas"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="section-divider"></div>

    <!-- Planet Radius Section -->
    <section class="min-h-screen px-4 py-20">
        <div class="max-w-7xl mx-auto">
            <div class="glass-panel p-8 md:p-12">
                <h2 class="text-4xl md:text-5xl font-bold mb-8 text-center">
                    Tamaño del Planeta
                </h2>
                
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div>
                        <label class="block text-lg mb-4">Radio del planeta (Tierra = 1)</label>
                        <input type="range" id="radius-slider" min="0.3" max="20" step="0.1" value="1" 
                               class="custom-slider mb-4" oninput="updatePlanetRadius(this.value)">
                        <div class="value-display">
                            <span id="radius-value">1.0</span>× el tamaño de la Tierra
                        </div>
                        
                        <div class="mt-8 p-6 glass-panel-dark">
                            <h3 class="font-semibold mb-2">Clasificación</h3>
                            <p id="planet-classification" class="text-sm text-gray-300">
                                Planeta similar a la Tierra
                            </p>
                        </div>
                    </div>
                    
                    <div class="relative">
                        <canvas id="size-canvas" class="orbital-canvas"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="section-divider"></div>

    <!-- Stellar Temperature Section -->
    <section class="min-h-screen px-4 py-20">
        <div class="max-w-7xl mx-auto">
            <div class="glass-panel p-8 md:p-12">
                <h2 class="text-4xl md:text-5xl font-bold mb-8 text-center">
                    Temperatura Estelar
                </h2>
                
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div>
                        <label class="block text-lg mb-4">Temperatura de la estrella (K)</label>
                        <input type="range" id="temp-slider" min="2000" max="40000" step="100" value="5778" 
                               class="custom-slider mb-4" oninput="updateStellarTemp(this.value)">
                        <div class="value-display">
                            <span id="temp-value">5778</span> K
                        </div>
                        
                        <div class="mt-8 p-6 glass-panel-dark">
                            <h3 class="font-semibold mb-2">Tipo de Estrella</h3>
                            <p id="star-type" class="text-sm text-gray-300">
                                Estrella tipo Sol (clase G)
                            </p>
                        </div>
                    </div>
                    
                    <div class="relative">
                        <canvas id="thermal-canvas" class="orbital-canvas"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="section-divider"></div>

    <!-- AI Validator Section -->
    <section class="min-h-screen px-4 py-20">
        <div class="max-w-4xl mx-auto">
            <div class="glass-panel p-8 md:p-12">
                <header class="text-center mb-12">
                    <h2 class="text-5xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">
                        Validador IA de Exoplanetas
                    </h2>
                    <p class="text-xl text-gray-300">
                        Entrenado con datos de Kepler & K2 para predecir candidatos TESS
                    </p>
                </header>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="glass-panel-dark p-4">
                        <label class="block text-sm font-medium text-gray-300 mb-2">Período Orbital (días)</label>
                        <input type="number" id="final-orbital" placeholder="ej: 365.25" 
                               class="w-full bg-gray-900/50 border border-gray-600 rounded-lg p-3 text-white focus:ring-2 focus:ring-purple-500 focus:outline-none transition-all">
                    </div>
                    <div class="glass-panel-dark p-4">
                        <label class="block text-sm font-medium text-gray-300 mb-2">Radio del Planeta (Tierra=1)</label>
                        <input type="number" id="final-radius" placeholder="ej: 1.0" 
                               class="w-full bg-gray-900/50 border border-gray-600 rounded-lg p-3 text-white focus:ring-2 focus:ring-purple-500 focus:outline-none transition-all">
                    </div>
                    <div class="glass-panel-dark p-4">
                        <label class="block text-sm font-medium text-gray-300 mb-2">Temperatura Estelar (K)</label>
                        <input type="number" id="final-temp" placeholder="ej: 5778" 
                               class="w-full bg-gray-900/50 border border-gray-600 rounded-lg p-3 text-white focus:ring-2 focus:ring-purple-500 focus:outline-none transition-all">
                    </div>
                </div>

                <div class="flex flex-col sm:flex-row gap-4 justify-center mb-8">
                    <button onclick="analyzeCandidate()" class="btn-glow">
                        Analizar Candidato
                    </button>
                    <button onclick="loadRandomCandidate()" class="px-8 py-4 bg-gray-700 hover:bg-gray-600 rounded-full font-semibold transition-all">
                        Cargar Candidato Aleatorio TESS
                    </button>
                </div>

                <div id="result-container" class="text-center min-h-[150px] flex flex-col justify-center items-center">
                    <div id="loader-container" class="hidden">
                        <div class="loader mb-4"></div>
                        <p class="text-gray-400">Analizando datos...</p>
                    </div>
                    
                    <div id="result-display" class="hidden fade-in-up">
                        <p id="result-text" class="text-5xl font-bold mb-4"></p>
                        <p id="result-description" class="text-gray-300 mb-4"></p>
                        <div id="true-label-display" class="hidden">
                            <p class="text-sm text-gray-400">
                                Disposición Real NASA: <span id="true-label" class="font-semibold text-xl"></span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="text-center py-12 px-4">
        <div class="max-w-4xl mx-auto">
            <p class="text-gray-400 mb-2">NASA Space Apps Challenge 2025 | México</p>
            <p class="text-sm text-gray-500">Creado con 🚀 por el equipo de exploración espacial</p>
        </div>
    </footer>

    <script>
        // Dataset TESS embebido
        const tessDataset = [
            [2.470613, 1.25, 3485.0, 'PLANET'],
            [8.46112, 11.2, 5925.0, 'PLANET'],
            [36.319, 2.7, 5147.0, 'PLANET'],
            [1.9547, 1.09, 3051.0, 'PLANET'],
            [4.124, 2.2, 5634.0, 'PLANET'],
            [12.42, 5.2, 6039.0, 'FALSE POSITIVE'],
            [0.52, 16.5, 6200.0, 'FALSE POSITIVE'],
            [18.2, 1.9, 4529.0, 'PLANET'],
            [5.6, 2.6, 5621.0, 'PLANET'],
            [3.3, 1.4, 3450.0, 'PLANET'],
            [0.77, 21.0, 7500.0, 'FALSE POSITIVE'],
            [105.8, 8.9, 5234.0, 'PLANET'],
            [0.95, 18.3, 8900.0, 'FALSE POSITIVE'],
            [42.7, 3.1, 4890.0, 'PLANET']
        ];

        // Variables globales
        let currentOrbitalPeriod = 365;
        let currentPlanetRadius = 1;
        let currentStellarTemp = 5778;

        // Función de scroll suave
        function scrollToExplorer() {
            document.getElementById('explorer').scrollIntoView({ behavior: 'smooth' });
        }

        // Actualizar período orbital
        function updateOrbitalPeriod(value) {
            currentOrbitalPeriod = parseFloat(value);
            document.getElementById('orbital-value').textContent = value;
            drawOrbitalSystem();
        }

        // Actualizar radio del planeta
        function updatePlanetRadius(value) {
            currentPlanetRadius = parseFloat(value);
            document.getElementById('radius-value').textContent = value;
            
            // Actualizar clasificación
            let classification = '';
            if (value < 1.5) classification = 'Planeta similar a la Tierra';
            else if (value < 4) classification = 'Super-Tierra';
            else if (value < 15) classification = 'Gigante gaseoso';
            else classification = 'Super-Júpiter';
            
            document.getElementById('planet-classification').textContent = classification;
            drawPlanetComparison();
        }

        // Actualizar temperatura estelar
        function updateStellarTemp(value) {
            currentStellarTemp = parseInt(value);
            document.getElementById('temp-value').textContent = value;
            
            // Actualizar tipo de estrella
            let starType = '';
            if (value < 3500) starType = 'Enana roja (clase M)';
            else if (value < 5000) starType = 'Estrella naranja (clase K)';
            else if (value < 6000) starType = 'Estrella tipo Sol (clase G)';
            else if (value < 7500) starType = 'Estrella blanca-amarilla (clase F)';
            else if (value < 10000) starType = 'Estrella blanca (clase A)';
            else starType = 'Estrella azul (clase B/O)';
            
            document.getElementById('star-type').textContent = starType;
            drawThermalPlanet();
        }

        // Dibujar sistema orbital
        function drawOrbitalSystem() {
            const canvas = document.getElementById('orbital-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            
            // Limpiar canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Calcular radio de órbita basado en período
            const orbitRadius = Math.min(150, 50 + Math.log10(currentOrbitalPeriod + 1) * 30);
            
            // Dibujar estrella
            const starSize = 40;
            const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, starSize);
            
            if (currentOrbitalPeriod < 100) {
                gradient.addColorStop(0, '#FFA500');
                gradient.addColorStop(1, 'rgba(255, 165, 0, 0)');
            } else if (currentOrbitalPeriod < 365) {
                gradient.addColorStop(0, '#FFFF00');
                gradient.addColorStop(1, 'rgba(255, 255, 0, 0)');
            } else {
                gradient.addColorStop(0, '#FF6B6B');
                gradient.addColorStop(1, 'rgba(255, 107, 107, 0)');
            }
            
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Dibujar órbita
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(centerX, centerY, orbitRadius, 0, Math.PI * 2);
            ctx.stroke();
            
            // Dibujar planeta
            const angle = Date.now() * 0.001;
            const planetX = centerX + Math.cos(angle) * orbitRadius;
            const planetY = centerY + Math.sin(angle) * orbitRadius;
            
            ctx.fillStyle = '#4A6B5C';
            ctx.beginPath();
            ctx.arc(planetX, planetY, 8, 0, Math.PI * 2);
            ctx.fill();
            
            requestAnimationFrame(drawOrbitalSystem);
        }

        // Dibujar comparación de planetas
        function drawPlanetComparison() {
            const canvas = document.getElementById('size-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            const centerY = canvas.height / 2;
            const earthX = canvas.width * 0.3;
            const exoplanetX = canvas.width * 0.7;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Dibujar Tierra
            const earthRadius = 30;
            const earthGradient = ctx.createRadialGradient(earthX, centerY, 0, earthX, centerY, earthRadius);
            earthGradient.addColorStop(0, '#4169E1');
            earthGradient.addColorStop(1, '#00008B');
            
            ctx.fillStyle = earthGradient;
            ctx.beginPath();
            ctx.arc(earthX, centerY, earthRadius, 0, Math.PI * 2);
            ctx.fill();
            
            // Label Tierra
            ctx.fillStyle = '#FFFFFF';
            ctx.font = '14px Inter';
            ctx.textAlign = 'center';
            ctx.fillText('Tierra', earthX, centerY + earthRadius + 20);
            
            // Dibujar Exoplaneta
            const exoRadius = Math.min(earthRadius * currentPlanetRadius, 120);
            let exoGradient = ctx.createRadialGradient(exoplanetX, centerY, 0, exoplanetX, centerY, exoRadius);
            
            if (currentPlanetRadius < 1.5) {
                exoGradient.addColorStop(0, '#4A6B5C');
                exoGradient.addColorStop(1, '#2F4F4F');
            } else if (currentPlanetRadius < 4) {
                exoGradient.addColorStop(0, '#D97642');
                exoGradient.addColorStop(1, '#8B4513');
            } else {
                exoGradient.addColorStop(0, '#DDA0DD');
                exoGradient.addColorStop(1, '#8B008B');
            }
            
            ctx.fillStyle = exoGradient;
            ctx.beginPath();
            ctx.arc(exoplanetX, centerY, exoRadius, 0, Math.PI * 2);
            ctx.fill();
            
            // Label Exoplaneta
            ctx.fillText('Exoplaneta', exoplanetX, centerY + exoRadius + 20);
            
            // Línea de comparación
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.lineWidth = 1;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(earthX + earthRadius, centerY);
            ctx.lineTo(exoplanetX - exoRadius, centerY);
            ctx.stroke();
            ctx.setLineDash([]);
        }

        // Dibujar planeta con efectos térmicos
        function drawThermalPlanet() {
            const canvas = document.getElementById('thermal-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 100;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Gradiente basado en temperatura
            const gradient = ctx.createRadialGradient(centerX - 30, centerY - 30, 0, centerX, centerY, radius);
            
            if (currentStellarTemp < 3500) {
                // Frío - rojos profundos
                gradient.addColorStop(0, '#8B0000');
                gradient.addColorStop(0.7, '#4B0000');
                gradient.addColorStop(1, '#1C0000');
            } else if (currentStellarTemp < 5000) {
                // Templado - naranjas
                gradient.addColorStop(0, '#FF8C00');
                gradient.addColorStop(0.7, '#D2691E');
                gradient.addColorStop(1, '#8B4513');
            } else if (currentStellarTemp < 6000) {
                // Como el Sol - amarillos
                gradient.addColorStop(0, '#FFD700');
                gradient.addColorStop(0.7, '#FFA500');
                gradient.addColorStop(1, '#FF8C00');
            } else if (currentStellarTemp < 8000) {
                // Caliente - blancos azulados
                gradient.addColorStop(0, '#FFFFFF');
                gradient.addColorStop(0.7, '#87CEEB');
                gradient.addColorStop(1, '#4682B4');
            } else {
                // Muy caliente - azules intensos
                gradient.addColorStop(0, '#00BFFF');
                gradient.addColorStop(0.7, '#0000FF');
                gradient.addColorStop(1, '#000080');
            }
            
            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
            ctx.fill();
            
            // Efecto de atmósfera
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.2)';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius + 5, 0, Math.PI * 2);
            ctx.stroke();
            
            // Efecto de calor (glow)
            if (currentStellarTemp > 6000) {
                const heatGlow = ctx.createRadialGradient(centerX, centerY, radius, centerX, centerY, radius + 30);
                heatGlow.addColorStop(0, 'rgba(255, 255, 255, 0.3)');
                heatGlow.addColorStop(1, 'rgba(255, 255, 255, 0)');
                ctx.fillStyle = heatGlow;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
        }

        // Modelo de predicción de exoplanetas
        function predictExoplanet(period, radius, temp) {
            if (radius > 15) return 'FALSE POSITIVE';
            if (period < 1 && temp > 6500) return 'FALSE POSITIVE';
            if (radius < 2.5) return 'PLANET';
            if (radius < 10 && temp < 6000 && temp > 3000) return 'PLANET';
            return 'FALSE POSITIVE';
        }

        // Analizar candidato
        function analyzeCandidate() {
            const period = parseFloat(document.getElementById('final-orbital').value);
            const radius = parseFloat(document.getElementById('final-radius').value);
            const temp = parseFloat(document.getElementById('final-temp').value);
            
            if (isNaN(period) || isNaN(radius) || isNaN(temp)) {
                alert('Por favor completa todos los campos con valores válidos');
                return;
            }
            
            // Mostrar loader
            document.getElementById('loader-container').classList.remove('hidden');
            document.getElementById('result-display').classList.add('hidden');
            document.getElementById('true-label-display').classList.add('hidden');
            
            // Simular análisis
            setTimeout(() => {
                const prediction = predictExoplanet(period, radius, temp);
                
                document.getElementById('loader-container').classList.add('hidden');
                document.getElementById('result-display').classList.remove('hidden');
                
                if (prediction === 'PLANET') {
                    document.getElementById('result-text').textContent = 'Probable Exoplaneta';
                    document.getElementById('result-text').className = 'text-5xl font-bold mb-4 glow-green';
                    document.getElementById('result-description').textContent = 
                        'El modelo encontró características de tránsito consistentes con un cuerpo planetario.';
                } else {
                    document.getElementById('result-text').textContent = 'Probable Falso Positivo';
                    document.getElementById('result-text').className = 'text-5xl font-bold mb-4 glow-red';
                    document.getElementById('result-description').textContent = 
                        'Las características sugieren una fuente no planetaria, como una estrella de fondo.';
                }
            }, 1500);
        }

        // Cargar candidato aleatorio
        function loadRandomCandidate() {
            const randomIndex = Math.floor(Math.random() * tessDataset.length);
            const [period, radius, temp, trueLabel] = tessDataset[randomIndex];
            
            document.getElementById('final-orbital').value = period;
            document.getElementById('final-radius').value = radius;
            document.getElementById('final-temp').value = temp;
            
            // Actualizar sliders también
            currentOrbitalPeriod = period;
            currentPlanetRadius = radius;
            currentStellarTemp = temp;
            
            document.getElementById('orbital-period-slider').value = period;
            document.getElementById('orbital-value').textContent = period;
            document.getElementById('radius-slider').value = radius;
            document.getElementById('radius-value').textContent = radius;
            document.getElementById('temp-slider').value = temp;
            document.getElementById('temp-value').textContent = temp;
            
            // Mostrar loader
            document.getElementById('loader-container').classList.remove('hidden');
            document.getElementById('result-display').classList.add('hidden');
            
            setTimeout(() => {
                const prediction = predictExoplanet(period, radius, temp);
                
                document.getElementById('loader-container').classList.add('hidden');
                document.getElementById('result-display').classList.remove('hidden');
                document.getElementById('true-label-display').classList.remove('hidden');
                
                if (prediction === 'PLANET') {
                    document.getElementById('result-text').textContent = 'Probable Exoplaneta';
                    document.getElementById('result-text').className = 'text-5xl font-bold mb-4 glow-green';
                    document.getElementById('result-description').textContent = 
                        'El modelo encontró características de tránsito consistentes con un cuerpo planetario.';
                } else {
                    document.getElementById('result-text').textContent = 'Probable Falso Positivo';
                    document.getElementById('result-text').className = 'text-5xl font-bold mb-4 glow-red';
                    document.getElementById('result-description').textContent = 
                        'Las características sugieren una fuente no planetaria, como una estrella de fondo.';
                }
                
                document.getElementById('true-label').textContent = trueLabel;
                document.getElementById('true-label').className = 
                    trueLabel === 'PLANET' ? 'font-semibold text-xl glow-green' : 'font-semibold text-xl glow-red';
            }, 1500);
        }

        // Inicializar visualizaciones
        window.onload = function() {
            // Pre-llenar con valores actuales
            document.getElementById('final-orbital').value = currentOrbitalPeriod;
            document.getElementById('final-radius').value = currentPlanetRadius;
            document.getElementById('final-temp').value = currentStellarTemp;
            
            // Iniciar animaciones
            drawOrbitalSystem();
            drawPlanetComparison();
            drawThermalPlanet();
        };
    </script>
</body>
</html>